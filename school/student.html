<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard</title>
    <style>
        /* CSS styles for the dashboard */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
        }

        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 250px;
            background-color: #004a99;
            color: white;
            padding: 20px;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        }

        .sidebar h2 {
            text-align: center;
            margin-bottom: 30px;
        }

        .sidebar nav a {
            display: block;
            color: white;
            padding: 10px 0;
            text-decoration: none;
            border-bottom: 1px solid #003366;
        }

        .sidebar nav a:hover {
            background-color: #003366;
        }

        .main-content {
            flex-grow: 1;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: white;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }

        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .card h3 {
            margin-top: 0;
        }

        .real-time-updates h3 {
            color: #d9534f;
        }

        .announcement-list {
            list-style: none;
            padding: 0;
        }

        .announcement-item {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .announcement-item:last-child {
            border-bottom: none;
        }
    </style>
</head>

<body>

    <div class="dashboard-container">
        <aside class="sidebar">
            <h2>Student Portal</h2>
            <nav>
                <a href="#">Dashboard</a>
                <a href="#">Grades</a>
                <a href="#">Schedule</a>
                <a href="#">Messages</a>
                <a href="#">Settings</a>
            </nav>
        </aside>

        <main class="main-content">
            <header>
                <h1>Welcome, John Doe</h1>
                <div id="current-time"></div>
            </header>

            <div class="dashboard-cards">
                <div class="card">
                    <h3>Current Grade (Average)</h3>
                    <p id="grade-avg" style="font-size: 2em; color: #004a99;">A- (92%)</p>
                </div>
                <div class="card">
                    <h3>Attendance Rate</h3>
                    <p id="attendance-rate" style="font-size: 2em; color: #5cb85c;">98%</p>
                </div>
                <div class="card real-time-updates">
                    <h3>New Announcements (Real-time)</h3>
                    <ul id="announcement-list" class="announcement-list">
                        <li class="announcement-item">Welcome back to the new semester!</li>
                        <li class="announcement-item">Exam schedule posted online.</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h3>Today's Schedule</h3>
                <ul id="schedule-list">
                    <li>09:00 AM - Math 101 (Room 301)</li>
                    <li>11:00 AM - History 202 (Room 205)</li>
                    <li>02:00 PM - Science Lab (Lab 1A)</li>
                </ul>
            </div>
        </main>
    </div>

    <script>
        // JavaScript for real-time updates simulation
        function updateTime() {
            const timeElement = document.getElementById('current-time');
            const now = new Date();
            timeElement.textContent = now.toLocaleTimeString() + ' ' + now.toLocaleDateString();
        }

        // Update time every second
        setInterval(updateTime, 1000);
        updateTime(); // Initial call to set time immediately

        // Simulate real-time updates for announcements and grades
        let announcementCount = 2;
        function simulateRealTimeUpdates() {
            // Simulate a new announcement
            announcementCount++;
            const newAnnouncementText = `New update: Course material added to history class (${new Date().toLocaleTimeString()})`;
            const announcementList = document.getElementById('announcement-list');
            const newItem = document.createElement('li');
            newItem.classList.add('announcement-item');
            newItem.textContent = newAnnouncementText;
            announcementList.prepend(newItem); // Add to the top

            // Limit the number of announcements
            if (announcementList.children.length > 5) {
                announcementList.removeChild(announcementList.lastChild);
            }

            // Simulate grade change (just for example)
            const gradeElement = document.getElementById('grade-avg');
            const currentGrade = parseFloat(gradeElement.textContent.split('(')[1].split('%')[0]);
            const newGrade = (currentGrade + (Math.random() * 0.1 - 0.05)).toFixed(2); // slight random change
            gradeElement.textContent = `A- (${newGrade}%)`;
        }

        // Simulate new data arrival every 5 seconds
        // In a real application, this would be a WebSocket listener or a more sophisticated data fetch
        setInterval(simulateRealTimeUpdates, 5000);

    </script>
</body>

</html>